const navbar=document.getElementById("cb-navigation"),navLinks=document.querySelectorAll("#cb-navbar-nav > .nav-link"),toTopNavLink=document.getElementById("cb-to-top-nav-link"),toTopFooterNavLink=document.getElementById("cb-to-top-footer-nav-link"),anchors=document.querySelectorAll("#ueberuns, #chorleitung, #konzerte, #mitsingen"),menuToggle=document.getElementById("cb-navbar-content"),menuButton=document.getElementById("cb-menu-button"),mainContent=document.getElementById("cb-main-content"),bsCollapse=new bootstrap.Collapse(menuToggle,{toggle:!1}),observer=new IntersectionObserver(([e])=>toTopNavLink.classList.toggle("d-none",1===e.intersectionRatio),{rootMargin:"-1px 0px 50px 0px",threshold:[1]});function addNavbarAnchors(){anchors.forEach(e=>e.classList.add("cb-anchor"))}function removeNavbarAnchors(){anchors.forEach(e=>e.classList.remove("cb-anchor"))}function toggleNavbar(){mainContent.addEventListener("touchstart",()=>bsCollapse.hide()),menuButton.addEventListener("focusout",()=>bsCollapse.hide()),navLinks.forEach(e=>{e.addEventListener("click",()=>{window.matchMedia("(min-width: 576px)").matches||bsCollapse.hide()})})}function positionNavbar(){window.matchMedia("(min-width: 576px)").matches?(navbar.classList.remove("fixed-bottom"),navbar.classList.add("navbar-dark","bg-dark"),window.matchMedia("(min-height: 500px)").matches?(navbar.classList.add("sticky-top"),toTopFooterNavLink.classList.add("d-none"),observer.observe(navbar),addNavbarAnchors()):(navbar.classList.remove("sticky-top"),toTopNavLink.classList.add("d-none"),toTopFooterNavLink.classList.remove("d-none"),observer.unobserve(navbar),removeNavbarAnchors())):(navbar.classList.remove("sticky-top","navbar-dark","bg-dark"),navbar.classList.add("fixed-bottom"),toTopNavLink.classList.remove("d-none"),toTopFooterNavLink.classList.remove("d-none"),removeNavbarAnchors())}window.addEventListener("resize",positionNavbar),positionNavbar(),toggleNavbar();
